.threew-fitment-block {
	position: relative;
	display: grid;
	gap: clamp(0.75rem, 2vw, 1.2rem);
	max-width: min(100%, 640px);
	width: 100%;
	margin-inline: auto;
	padding: clamp(0.75rem, 2.2vw, 1.2rem);
	color: var(--wp--preset--color--surface-alt);
	background: linear-gradient(
			160deg,
			rgba(8, 23, 39, 0.82),
			rgba(5, 14, 27, 0.92)
		),
		rgba(5, 14, 27, 0.85);
	border: 1px solid rgba(26, 152, 149, 0.18);
	border-radius: clamp(0.9rem, 2.2vw, 1.3rem);
	box-shadow: 0 18px 36px rgba(4, 12, 25, 0.5);
	backdrop-filter: blur(14px);
	overflow: visible;
}

/* stylelint-disable-next-line selector-max-universal */
.threew-fitment-block > * {
	position: relative;
	z-index: 1;
}

.threew-fitment-block::before {
	display: none;
}

.threew-fitment-block__copy {
	display: grid;
	gap: 0.35rem;
	text-align: center;
}

	.threew-fitment-block__progress {
	  position: relative;
	  display: grid;
	  gap: clamp(0.35rem, 1.4vw, 0.7rem);
	  padding: 0;
	  border-radius: clamp(0.75rem, 2vw, 1.1rem);
	  background: transparent;
	  border: 0;
	  box-shadow: none;
	}

	.threew-fitment-progress__list {
		display: flex;
		align-items: center;
		justify-content: center;
		flex-wrap: wrap;
		gap: clamp(0.35rem, 1.4vw, 0.75rem);
		list-style: none;
		margin: 0;
		padding: 0;
		position: relative;
	}

.threew-fitment-progress__list::before {
	content: '';
	position: absolute;
	left: clamp(1.6rem, 5vw, 2.6rem);
	right: clamp(1.6rem, 5vw, 2.6rem);
	top: 50%;
	height: 2px;
	background: linear-gradient(90deg, rgba(26, 152, 149, 0.35), rgba(26, 152, 149, 0.05));
	transform: translateY(-50%);
	z-index: 0;
	display: none;
}

.threew-fitment-progress__step {
	position: relative;
	display: inline-flex;
	align-items: center;
	gap: 0.3rem;
	padding: 0.28rem 0.55rem;
	border-radius: 999px;
	background: rgba(8, 26, 48, 0.65);
	border: 1px solid rgba(26, 152, 149, 0.14);
	transition: border-color 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
	z-index: 1;
}

.threew-fitment-progress__step.is-active {
	border-color: rgba(26, 152, 149, 0.5);
	background: rgba(17, 60, 96, 0.85);
	box-shadow: 0 8px 18px rgba(26, 152, 149, 0.25);
}

.threew-fitment-progress__step.is-complete {
	border-color: rgba(26, 152, 149, 0.3);
	background: rgba(26, 152, 149, 0.16);
}

.threew-fitment-progress__status {
	display: none;
	margin: 0;
	font-size: clamp(0.78rem, 1.9vw, 0.92rem);
	letter-spacing: 0.08em;
	text-transform: uppercase;
	color: rgba(238, 243, 255, 0.74);
	text-align: center;
}

.threew-fitment-progress__index {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: clamp(1.4rem, 3vw, 1.7rem);
  height: clamp(1.4rem, 3vw, 1.7rem);
  border-radius: 50%;
  background: rgba(26, 152, 149, 0.16);
  border: 1px solid rgba(26, 152, 149, 0.35);
  font-family: var(--wp--preset--font-family--numeric);
  font-size: clamp(0.85rem, 1.9vw, 0.95rem);
  letter-spacing: 0.08em;
}

@media (max-width: 782px) {
  .threew-fitment-progress__list {
    display: none;
  }

  .threew-fitment-progress__status {
    display: block;
  }
}

.threew-fitment-progress__label {
	font-size: clamp(0.72rem, 1.6vw, 0.85rem);
	text-transform: uppercase;
	letter-spacing: 0.14em;
	color: rgba(238, 243, 255, 0.72);
}

.threew-fitment-progress__step.is-complete .threew-fitment-progress__label {
	color: rgba(238, 243, 255, 0.82);
}

.threew-fitment-block__headline {
	margin: 0;
	font-size: clamp(1.4rem, 2.9vw, 1.85rem);
	line-height: 1.15;
	letter-spacing: 0.05em;
	text-transform: uppercase;
}

.threew-fitment-block__subheadline {
	margin: 0;
	color: rgba(238, 243, 255, 0.78);
	font-size: clamp(0.9rem, 2.2vw, 1rem);
}

.threew-fitment-block__form-shell {
	display: grid;
	gap: clamp(0.6rem, 1.6vw, 1rem);
	background: transparent;
	border: 0;
	border-radius: 0;
	padding: 0;
	box-shadow: none;
	overflow: visible;
}

.threew-fitment-block__form {
	display: grid;
	gap: clamp(0.55rem, 1.4vw, 0.8rem);
	padding: clamp(0.7rem, 2vw, 0.95rem);
	border: 0;
	border-radius: clamp(0.75rem, 2vw, 1.1rem);
	background: rgba(8, 24, 44, 0.68);
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
	backdrop-filter: blur(8px);
	transform: none;
	opacity: 1;
	transition: box-shadow 0.35s ease;
	overflow: visible;
	isolation: isolate;
}

.threew-fitment-block__form[data-fitment-interactive='ready']:hover {
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08), 0 20px 38px rgba(4, 12, 25, 0.46);
}

.threew-fitment-block__field {
	display: grid;
	gap: 0.35rem;
	position: relative;
	z-index: 0;
	min-width: 0;
}

.threew-fitment-block__fields {
	display: grid;
	gap: clamp(0.5rem, 1.2vw, 0.75rem);
	grid-template-columns: minmax(0, 1fr);
}

.threew-fitment-block__actions {
	display: flex;
	flex-wrap: wrap;
	gap: clamp(0.4rem, 1.2vw, 0.6rem);
	align-items: center;
	justify-content: flex-start;
	width: 100%;
}

.threew-fitment-block__field label {
	font-size: 0.75rem;
	text-transform: uppercase;
	letter-spacing: 0.12em;
	color: rgba(var(--threew-accent-rgb), 0.78);
}

		.threew-fitment-block__field select {
		    /* Cross-browser reset of native arrow for consistent styling */
		    appearance: none;
		    /* stylelint-disable-next-line property-no-vendor-prefix */
		    -webkit-appearance: none;
		    /* stylelint-disable-next-line property-no-vendor-prefix */
		    -moz-appearance: none;
		    background: linear-gradient(145deg, rgba(7, 20, 36, 0.82), rgba(10, 28, 46, 0.78));
		    border: 1px solid rgba(var(--threew-accent-rgb), 0.48);
		    border-radius: clamp(0.95rem, 2.2vw, 1.35rem);
		    padding: clamp(0.54rem, 1.6vw, 0.8rem) clamp(0.9rem, 2.4vw, 1.2rem);
		    padding-right: clamp(1.7rem, 3vw, 2.05rem);
		    font-size: clamp(0.92rem, 1.9vw, 1.02rem);
		    color: rgba(var(--threew-accent-rgb), 0.95);
    min-height: 2.75rem;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05), 0 12px 28px rgba(4, 12, 25, 0.35);
    transition: border-color 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
    background-clip: padding-box; /* prevent background bleed into border on Windows */
    color-scheme: dark; /* hint to UA popover for better contrast */
    background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.25 6l3.25 4 3.25-4' fill='none' stroke='%23BFA181' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
		background-position: right clamp(0.95rem, 2.8vw, 1.25rem) center;
		background-size: 0.6rem;
		position: relative;
		z-index: 1;
	}

.threew-fitment-block__field select option {
    background-color: rgba(7, 18, 34, 0.92);
    color: rgba(var(--threew-accent-rgb), 0.95);
}

.threew-fitment-block__field select option:checked,
.threew-fitment-block__field select option:focus,
.threew-fitment-block__field select option:hover {
    background-color: rgba(var(--threew-accent-rgb), 0.18);
    color: rgba(var(--threew-accent-rgb), 0.98);
}

.threew-fitment-block__field select::-ms-expand {
    display: none;
}

.threew-fitment-block__field select:disabled {
	opacity: 1;
	background: rgba(255, 255, 255, 0.14);
	border-color: rgba(255, 255, 255, 0.38);
	color: rgba(238, 243, 255, 0.6);
	cursor: not-allowed;
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.threew-fitment-block__submit {
    padding: clamp(0.65rem, 1.8vw, 0.9rem);
    border-radius: clamp(0.85rem, 2.4vw, 1.2rem);
	border: none;
	background: linear-gradient(135deg, var(--wp--preset--color--secondary), var(--wp--preset--color--primary));
	color: var(--wp--preset--color--ink-inverse);
	text-transform: uppercase;
	letter-spacing: 0.1em;
	font-weight: 600;
	cursor: pointer;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 0.4rem;
	box-shadow: 0 14px 32px rgba(26, 152, 149, 0.28);
	transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease;
	flex: 1 1 clamp(10rem, 30vw, 12rem);
	min-width: clamp(9.25rem, 28vw, 11.5rem);
	white-space: nowrap;
}

.threew-fitment-block__submit:disabled {
	opacity: 0.6;
	cursor: default;
}

.threew-fitment-block__reset {
	min-width: clamp(7rem, 18vw, 8rem);
	padding: clamp(0.55rem, 1.6vw, 0.75rem) clamp(0.9rem, 2.2vw, 1.1rem);
	border-radius: clamp(0.75rem, 2.2vw, 1.1rem);
	border: 1px solid rgba(var(--threew-accent-rgb), 0.4);
	background: rgba(7, 20, 34, 0.42);
	color: rgba(var(--threew-accent-rgb), 0.92);
	text-transform: uppercase;
	letter-spacing: 0.08em;
	font-weight: 500;
	cursor: pointer;
	transition: border-color 0.25s ease, color 0.25s ease, transform 0.25s ease;
	flex: 0 0 auto;
	white-space: nowrap;
}

.threew-fitment-block__reset:not(:disabled):hover,
.threew-fitment-block__reset:not(:disabled):focus-visible {
	border-color: rgba(26, 152, 149, 0.55);
	color: var(--wp--preset--color--surface-alt);
	transform: translateY(-1px);
}

.threew-fitment-block__reset:focus-visible {
	outline: 2px solid rgba(var(--threew-accent-rgb), 0.75);
	outline-offset: 2px;
}

.threew-fitment-block__reset:disabled {
	opacity: 0.5;
	cursor: default;
}

.threew-fitment-block__helper {
	font-size: clamp(0.72rem, 1.8vw, 0.8rem);
	letter-spacing: 0.08em;
	text-transform: uppercase;
	color: rgba(238, 243, 255, 0.55);
	margin: clamp(0.2rem, 0.6vw, 0.4rem) 0 0;
	text-align: center;
}

.threew-fitment-block__error {
	display: none;
	padding: 1rem 1.5rem;
	background: rgba(220, 38, 38, 0.15);
	border: 1px solid rgba(220, 38, 38, 0.4);
	border-radius: 12px;
	color: #fca5a5;
	font-size: 0.9rem;
	margin-bottom: 1rem;
}

/* Loading state for selects */
.threew-fitment-block__field select.is-loading {
	background-image: none;
	background-color: rgba(255, 255, 255, 0.12);
}

/* Focus states for accessibility */
.threew-fitment-block__field select:focus {
	outline: 2px solid rgba(var(--threew-accent-rgb), 0.75);
	outline-offset: 2px;
	border-color: rgba(var(--threew-accent-rgb), 0.75);
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05), 0 0 0 4px rgba(var(--threew-accent-rgb), 0.2);
	z-index: 2;
}

.threew-fitment-block__field:focus-within {
	z-index: 5;
}

.threew-fitment-block__submit:focus {
	outline: 2px solid rgba(var(--threew-accent-rgb), 0.8);
	outline-offset: 2px;
	box-shadow: 0 18px 38px rgba(var(--threew-accent-rgb), 0.38);
}

/* Hover states for enabled controls */
.threew-fitment-block__field select:not(:disabled):hover {
	background: rgba(244, 242, 236, 0.08);
	border-color: rgba(var(--threew-accent-rgb), 0.58);
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06), 0 12px 28px rgba(4, 12, 25, 0.35);
}

.threew-fitment-block__submit:not(:disabled):hover {
	transform: translateY(-1px);
	box-shadow: 0 18px 36px rgba(26, 152, 149, 0.35);
	filter: brightness(1.03);
}

@media (prefers-reduced-motion: reduce) {
	.threew-fitment-block {
		backdrop-filter: none;
	}

	.threew-fitment-block__form {
		transition-duration: 0.001ms;
	}
}

@media (max-width: 40rem) {
	.threew-fitment-block__progress {
		flex-direction: column;
		align-items: stretch;
		gap: 0.5rem;
	}

	.threew-fitment-progress__step {
		justify-content: space-between;
		width: 100%;
	}

	.threew-fitment-progress__label {
		flex: 1;
		text-align: right;
	}

	.threew-fitment-block__form-shell {
		gap: clamp(0.65rem, 2vw, 1rem);
	}
}

@media (min-width: 48rem) {
  .threew-fitment-block {
    max-width: min(100%, 640px);
  }

  .threew-fitment-progress__list {
    justify-content: center;
  }

  .threew-fitment-progress__list::before {
    display: block;
  }

  .threew-fitment-block__actions {
    flex-wrap: nowrap;
  }
}

@media (min-width: 64rem) {
	.threew-fitment-block {
		max-width: clamp(640px, 46vw, 780px);
		padding: clamp(1rem, 2vw, 1.45rem);
	}

	.threew-fitment-block__fields {
		grid-template-columns: repeat(2, minmax(0, 1fr));
		gap: clamp(0.6rem, 1.4vw, 0.9rem);
	}

	.threew-fitment-block__helper {
		text-align: left;
	}
}
